<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>AI ë¡œê·¸ ì •ë¦¬ê¸°</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{
  --bg:#0f1115;
  --card:#1a1d24;
  --accent:#6c8cff;
  --text:#e8eaf0;
  --sub:#aab0c0;
}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
}
.wrapper{
  max-width:1200px;
  margin:40px auto;
  padding:0 20px;
}
h1{
  font-weight:600;
  margin-bottom:20px;
}
.card{
  background:var(--card);
  border-radius:14px;
  padding:20px;
  box-shadow:0 8px 30px rgba(0,0,0,0.3);
}
.controls{
  display:flex;
  flex-wrap:wrap;
  gap:15px;
  margin-bottom:20px;
}
label{
  font-size:14px;
  color:var(--sub);
}
select,input[type="checkbox"]{
  margin-right:6px;
}
textarea{
  width:100%;
  height:400px;
  background:#111318;
  border:1px solid #2a2f3a;
  border-radius:10px;
  padding:12px;
  color:var(--text);
  font-size:14px;
  resize:none;
}
.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}
button{
  background:var(--accent);
  color:white;
  border:none;
  padding:8px 14px;
  border-radius:8px;
  cursor:pointer;
  font-size:14px;
}
button:hover{
  opacity:0.9;
}
.footer{
  margin-top:15px;
  text-align:right;
}
@media(max-width:900px){
  .grid{
    grid-template-columns:1fr;
  }
}
</style>
</head>
<body>
<div class="wrapper">
<h1>ğŸ©¸ AI ë¡œê·¸ ì •ë¦¬ê¸°</h1>

<div class="card">

<div class="controls">
  <label><input type="checkbox" id="removeDetails"> &lt;details&gt; ì œê±°</label>
  <label><input type="checkbox" id="removeEmptyLines"> ë¬¸ë‹¨ ë¹ˆ ì¤„ ì œê±°</label>

  <label>
    ë”°ì˜´í‘œ:
    <select id="quoteStyle">
      <option value="none">ë„£ì§€ ì•ŠìŒ</option>
      <option value="straight">" "</option>
      <option value="doubleCurly">â€œ â€</option>
      <option value="singleCurly">â€˜ â€™</option>
    </select>
  </label>

  <button onclick="copyResult()">ê²°ê³¼ ë³µì‚¬</button>
</div>

<div class="grid">
  <textarea id="inputText" placeholder="ì—¬ê¸°ì— ë¡œê·¸ë¥¼ ë¶™ì—¬ ë„£ìœ¼ì„¸ìš”"></textarea>
  <textarea id="outputText" placeholder="ë³€í™˜ ê²°ê³¼" readonly></textarea>
</div>

<div class="footer">
  <small style="color:var(--sub)">ìë™ ë³€í™˜ ëª¨ë“œ</small>
</div>

</div>
</div>

<script>
const input = document.getElementById("inputText");
const output = document.getElementById("outputText");

input.addEventListener("input", transformText);
document.getElementById("quoteStyle").addEventListener("change", transformText);
document.getElementById("removeDetails").addEventListener("change", transformText);
document.getElementById("removeEmptyLines").addEventListener("change", transformText);

function transformText(){
  let text = input.value;

  if(document.getElementById("removeDetails").checked){
    text = text.replace(/<details[\s\S]*?<\/details>/gi,'');
  }

  let paragraphs = text.split(/\n\s*\n+/);

  let quoteStyle = document.getElementById("quoteStyle").value;

  let openQuote = '';
  let closeQuote = '';

  if(quoteStyle==="straight"){
    openQuote='"';
    closeQuote='"';
  }else if(quoteStyle==="doubleCurly"){
    openQuote='â€œ';
    closeQuote='â€';
  }else if(quoteStyle==="singleCurly"){
    openQuote='â€˜';
    closeQuote='â€™';
  }

  let result = paragraphs.map(p=>{
    let trimmed = p.trim();
    if(!trimmed) return '';

    if(trimmed.startsWith("*") && trimmed.endsWith("*")){
      return trimmed.slice(1,-1).trim();
    }

    if(quoteStyle==="none"){
      return trimmed;
    }

    if(
      (trimmed.startsWith('"') && trimmed.endsWith('"')) ||
      (trimmed.startsWith('â€œ') && trimmed.endsWith('â€')) ||
      (trimmed.startsWith('â€˜') && trimmed.endsWith('â€™'))
    ){
      return trimmed;
    }

    return openQuote + trimmed + closeQuote;
  });

  if(document.getElementById("removeEmptyLines").checked){
    output.value = result.join("\n").trim();
  }else{
    output.value = result.join("\n\n").trim();
  }
}

function copyResult(){
  output.select();
  document.execCommand("copy");
  alert("ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
}
</script>
</body>
</html>
